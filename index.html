<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO-Generator - ©AykolinoApps</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&amp;display=swap" rel="stylesheet">
    <link rel="icon" href="favicon-32x32.png" type="image/x-icon">

    <style>
        /* Globale Stile & Animationen */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #f5f5f5;
            overflow-x: hidden;
        }

        .gradient-text {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        .card {
            background-color: rgba(23, 23, 23, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: all 0.3s ease-in-out;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(139, 92, 246, 0.5); /* Violet-500 */
        }

        .glow-effect {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0) 60%);
            animation: rotateGlow 15s linear infinite;
        }

        @keyframes rotateGlow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Scroll-in Animation */
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in-up.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Header Stile */
        .header {
            animation: fadeInDown 0.8s ease-out;
        }

        .header-scrolled {
            background-color: rgba(10, 10, 10, 0.7);
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- NEUE & VERBESSERTE Sprachauswahl Stile --- */
        .lang-switcher-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            background-color: #111827; /* bg-gray-900 */
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
            width: 160px; /* Etwas breiter für die Flaggen */
            z-index: 60;
            overflow: hidden;
            /* Animations-Eigenschaften */
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: opacity 0.2s ease-out, transform 0.2s ease-out, visibility 0.2s;
        }

        .lang-switcher-dropdown.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* --- Logo Animationen --- */
        .logo-utm { position: relative; width: 80px; height: 80px; }
        .utm-center { position: absolute; width: 16px; height: 16px; background-color: #3b82f6; border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: pulse 2s infinite ease-in-out; }
        .utm-dot { position: absolute; width: 8px; height: 8px; background-color: #a78bfa; border-radius: 50%; top: 50%; left: 50%; margin: -4px; }
        .utm-dot:nth-child(2) { animation: utm-orbit 4s infinite linear; animation-delay: 0s; }
        .utm-dot:nth-child(3) { animation: utm-orbit 4s infinite linear; animation-delay: -1s; }
        .utm-dot:nth-child(4) { animation: utm-orbit 4s infinite linear; animation-delay: -2s; }
        .utm-dot:nth-child(5) { animation: utm-orbit 4s infinite linear; animation-delay: -3s; }
        @keyframes pulse { 0%, 100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); } 50% { transform: translate(-50%, -50%) scale(1.1); box-shadow: 0 0 20px 10px rgba(59, 130, 246, 0); } }
        @keyframes utm-orbit { from { transform: rotate(0deg) translateX(30px) rotate(0deg); } to { transform: rotate(360deg) translateX(30px) rotate(-360deg); } }
        .logo-html { width: 80px; height: 80px; display: flex; align-items: center; justify-content: space-between; font-size: 2.5rem; font-weight: bold; color: #ec4899; }
        .html-arrow { font-size: 1.5rem; animation: html-translate 2s infinite ease-in-out; color: #f5f5f5; }
        @keyframes html-translate { 0%, 100% { transform: translateX(0); opacity: 0.7; } 50% { transform: translateX(8px) scale(1.1); opacity: 1; } }
        .logo-excel { width: 80px; height: 80px; display: flex; justify-content: center; align-items: center; gap: 8px; }
        .excel-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px; width: 30px; height: 40px; }
        .excel-cell { width: 8px; height: 8px; background-color: #10b981; border-radius: 1px; opacity: 0.6; }
        .excel-grid .excel-cell:nth-child(2) { background-color: #3b82f6; } .excel-grid .excel-cell:nth-child(5) { animation: excel-blink 2.5s infinite; animation-delay: 0.5s; } .excel-grid .excel-cell:nth-child(8) { background-color: #f97316; }
        @keyframes excel-blink { 0%, 100% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.4); opacity: 1; } }
        .logo-an { width: 80px; height: 80px; background-color: rgba(255,255,255,0.05); border-radius: 8px; font-family: 'Courier New', Courier, monospace; font-size: 1.5rem; color: #facc15; overflow: hidden; }
        .an-reel { animation: an-scroll-reel 4.5s infinite; animation-timing-function: cubic-bezier(0.65, 0, 0.35, 1); }
        .an-number-item { height: 80px; display: flex; justify-content: center; align-items: center; }
        @keyframes an-scroll-reel { 0%, 25% { transform: translateY(0); } 30%, 55% { transform: translateY(-80px); } 60%, 85% { transform: translateY(-160px); } 90%, 100% { transform: translateY(-240px); } }
    </style>
</head>
<body class="" style="">
    <div class="fixed top-0 left-0 w-full h-full -z-10 overflow-hidden">
        <div class="glow-effect"></div>
    </div>
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <nav id="main-header" class="header fixed top-0 left-0 w-full z-50 backdrop-blur-md border-b border-transparent transition-colors duration-300">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-20">
                    <a href="https://aykolino.de" class="text-2xl font-bold tracking-tight text-white">
                        Aykolino<span class="gradient-text">Apps</span>
                    </a>

                    <!-- Desktop Navigation -->
                    <div class="hidden md:flex items-center space-x-8">
                        <a href="https://uebermich.aykolino.de" class="text-gray-300 hover:text-white transition-colors" data-translate-key="navAbout">Über mich</a>
                        <a href="mailto:ayko.tiedtke2@yahoo.de" class="text-gray-300 hover:text-white transition-colors" data-translate-key="navContact">Kontakt</a>
                        
                        <!-- Sprachauswahl -->
                        <div class="relative lang-switcher">
                            <button id="lang-switcher-button" class="flex items-center text-gray-300 hover:text-white transition-colors">
                                <img id="current-flag-desktop" src="" alt="Language flag" class="w-5 h-auto mr-2 rounded-sm object-cover">
                                <span id="current-lang-desktop">DE</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                            <div id="lang-switcher-dropdown" class="lang-switcher-dropdown p-2 space-y-1">
                                <a href="#" class="flex items-center w-full px-3 py-2 text-sm text-gray-200 hover:bg-gray-700 rounded-md transition-colors" onclick="setLanguage('de', event)">
                                    <img src="https://flagcdn.com/w40/de.png" alt="German flag" class="w-5 h-auto mr-3 rounded-sm">
                                    <span>Deutsch</span>
                                </a>
                                <a href="#" class="flex items-center w-full px-3 py-2 text-sm text-gray-200 hover:bg-gray-700 rounded-md transition-colors" onclick="setLanguage('en', event)">
                                    <img src="https://flagcdn.com/w40/gb.png" alt="British flag" class="w-5 h-auto mr-3 rounded-sm">
                                    <span>English</span>
                                </a>
                                <a href="#" class="flex items-center w-full px-3 py-2 text-sm text-gray-200 hover:bg-gray-700 rounded-md transition-colors" onclick="setLanguage('fr', event)">
                                    <img src="https://flagcdn.com/w40/fr.png" alt="French flag" class="w-5 h-auto mr-3 rounded-sm">
                                    <span>Français</span>
                                </a>
                                <a href="#" class="flex items-center w-full px-3 py-2 text-sm text-gray-200 hover:bg-gray-700 rounded-md transition-colors" onclick="setLanguage('es', event)">
                                     <img src="https://flagcdn.com/w40/es.png" alt="Spanish flag" class="w-5 h-auto mr-3 rounded-sm">
                                    <span>Español</span>
                                </a>
                                <!-- ENTFERNT: Italienisch -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="text-white">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden">
                <a href="https://uebermich.aykolino.de" class="block py-3 px-4 text-sm text-gray-200 hover:bg-gray-800" data-translate-key="navAbout">Über mich</a>
                <a href="mailto:ayko.tiedtke2@yahoo.de" class="block py-3 px-4 text-sm text-gray-200 hover:bg-gray-800" data-translate-key="navContact">Kontakt</a>
                <div class="px-4 pt-3 pb-1 border-t border-gray-700">
                    <p class="text-xs text-gray-400 mb-2" data-translate-key="languageLabelMobile">Sprache:</p>
                    <a href="#" class="flex items-center w-full py-2 text-sm text-gray-200 hover:bg-gray-800" onclick="setLanguage('de', event)">
                         <img src="https://flagcdn.com/w40/de.png" alt="German flag" class="w-5 h-auto mr-3 rounded-sm"> Deutsch
                    </a>
                    <a href="#" class="flex items-center w-full py-2 text-sm text-gray-200 hover:bg-gray-800" onclick="setLanguage('en', event)">
                         <img src="https://flagcdn.com/w40/gb.png" alt="British flag" class="w-5 h-auto mr-3 rounded-sm"> English
                    </a>
                    <a href="#" class="flex items-center w-full py-2 text-sm text-gray-200 hover:bg-gray-800" onclick="setLanguage('fr', event)">
                         <img src="https://flagcdn.com/w40/fr.png" alt="French flag" class="w-5 h-auto mr-3 rounded-sm"> Français
                    </a>
                    <a href="#" class="flex items-center w-full py-2 text-sm text-gray-200 hover:bg-gray-800" onclick="setLanguage('es', event)">
                         <img src="https://flagcdn.com/w40/es.png" alt="Spanish flag" class="w-5 h-auto mr-3 rounded-sm"> Español
                    </a>
                     <!-- ENTFERNT: Italienisch -->
                </div>
            </div>
        </nav>
        <main class="pt-24 flex flex-col items-center">
            <div class="w-full max-w-3xl mx-auto">
        <div class="bg-slate-800 rounded-xl shadow-2xl p-6 sm:p-8 border border-slate-700">
            <header class="text-center mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-white" data-translate-key="seoTextGeneratorTitle">SEO Text Generator</h1>
                <p class="text-slate-400 mt-2" data-translate-key="seoTextGeneratorSubtitle">Geben Sie Ihre Stichpunkte ein, wählen Sie eine Sprache und erhalten Sie einen optimierten Text.</p>
            </header>

            <main>
                 <!-- API Key Section (Collapsible) -->
                <div class="bg-slate-900 border border-slate-700 rounded-lg mb-8">
                    <!-- KORRIGIERT: Hover-Effekt und 'group' hinzugefügt -->
                    <button id="toggleApiKeyBtn" class="w-full p-4 flex justify-between items-center text-left focus:outline-none group hover:bg-slate-800 rounded-lg transition-colors duration-200">
                        <span class="text-lg font-semibold text-white" data-translate-key="apiSettings">API-Schlüssel-Einstellungen</span>
                        <!-- KORRIGIERT: 'group-hover' für Pfeilfarbe hinzugefügt -->
                        <svg id="apiKeyChevron" class="w-6 h-6 text-slate-400 group-hover:text-slate-200 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="apiKeyContent" class="hidden">
                        <div class="p-4 border-t border-slate-700 space-y-4">
                            <div class="flex flex-col sm:flex-row gap-2 items-center">
                                <input type="password" id="apiKeyInput" class="w-full p-3 bg-slate-700 border-2 border-slate-600 rounded-lg text-slate-300 focus:ring-2 focus:ring-pink-500" placeholder="API-Schlüssel hier einfügen..." data-translate-key-placeholder="apiKeyPlaceholder">
                                <button id="saveApiKeyBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 w-full sm:w-auto flex-shrink-0" data-translate-key="saveButton">Speichern</button>
                                <!-- HINZUGEFÜGT: Feedback-Nachricht statt alert() -->
                                <span id="saveApiKeyFeedback" class="text-green-400 font-medium hidden ml-0 sm:ml-4 mt-2 sm:mt-0"></span>
                            </div>
                            <div class="text-xs text-slate-400 space-y-2">
                                <p>
                                    <span data-translate-key="noKeyQuestion">Keinen Schlüssel?</span>
                                    <a href="https://aistudio.google.com/app/apikey" target="_blank" class="underline hover:text-pink-400" data-translate-key="createHereLink" data-translate-href-key="getGoogleApiKeyLink">Hier kostenlos erstellen.</a>
                                    <button id="showTutorialBtn" class="underline hover:text-pink-400 ml-2" data-translate-key="instructionsLink">(Anleitung)</button>
                                </p>
                                <p class="font-semibold text-slate-300" data-translate-key="privacyNotice">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M18 8a6 6 0 11-12 0 6 6 0 0112 0zM8.707 9.293a1 1 0 00-1.414 1.414L8.586 12l-1.293 1.293a1 1 0 101.414 1.414L10 13.414l1.293 1.293a1 1 0 001.414-1.414L11.414 12l1.293-1.293a1 1 0 00-1.414-1.414L10 10.586 8.707 9.293zM10 18a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"></path>
                                    </svg>
                                    Datenschutzhinweis: Ihr Schlüssel wird NUR in Ihrem Browser gespeichert und NIEMALS an einen Server gesendet.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Input Section -->
                <div class="space-y-6">
                    <div>
                        <label for="keywords" class="block text-lg font-semibold mb-3 text-white" data-translate-key="keywordsLabel">Ihre Stichpunkte (jeder Punkt in einer neuen Zeile):</label>
                        <textarea id="keywords" rows="6" class="w-full p-3 bg-slate-900 border-2 border-slate-700 rounded-lg text-slate-300 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-shadow" placeholder="z.B.
- Vorteile von Solarenergie
- Kostenersparnis
- Umweltfreundlich
- Unabhängigkeit vom Stromnetz" data-translate-key-placeholder="keywordsPlaceholder"></textarea>
                    </div>

                    <div>
                        <label for="language" class="block text-lg font-semibold mb-3 text-white" data-translate-key="targetLanguageLabel">Zielsprache:</label>
                        <!-- KORRIGIERT: Eigener Pfeil, um graues Hovern zu verhindern -->
                        <div class="relative w-full">
                            <select id="language" class="w-full p-3 pr-12 bg-slate-700 text-white border-2 border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 transition duration-200 appearance-none">
                                <option value="German" data-translate-key="languageGerman">Deutsch</option>
                                <option value="English" data-translate-key="languageEnglish">Englisch</option>
                                <option value="French" data-translate-key="languageFrench">Französisch</option>
                                <option value="Spanish" data-translate-key="languageSpanish">Spanisch</option>
                                <!-- HINZUGEFÜGT: Italienisch als Zielsprache -->
                                <option value="Italian" data-translate-key="languageItalian">Italienisch</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none">
                                <svg class="w-5 h-5 text-slate-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Button -->
                <!-- KORRIGIERT: data-translate-key vom div entfernt, um Button-Text-Änderung zu ermöglichen -->
                <div class="mt-8 text-center">
                    <button id="generateBtn" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-8 rounded-lg transition duration-200 transform hover:scale-105 shadow-lg">
                        <span id="btn-text" data-translate-key="generateTextButton">Text generieren</span>
                    </button>
                </div>

                <!-- Loading Indicator -->
                <div id="loader" class="hidden flex flex-col items-center justify-center mt-8">
                    <div class="loader"></div>
                    <!-- Dieser Text wird jetzt auch übersetzt -->
                    <p class="text-slate-400 mt-4" data-translate-key="generatingText">Generiere Text... Bitte haben Sie einen Moment Geduld.</p>
                </div>

                <!-- Output Section -->
                <div id="resultContainer" class="hidden mt-10">
                    <div class="border-t border-slate-700 pt-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-white" data-translate-key="generatedTextTitle">Ihr SEO-optimierter Text</h2>
                            <button id="copyBtn" class="bg-slate-700 hover:bg-slate-600 text-white font-semibold py-1 px-3 rounded-md transition duration-200" data-translate-key="copyButton">
                                Kopieren
                            </button>
                            <span id="copyFeedback" class="text-green-400 font-medium hidden" data-translate-key="copySuccess">Kopiert!</span>
                        </div>
                        <div id="output" class="p-4 bg-slate-900 border-2 border-slate-700 rounded-lg min-h-[200px] whitespace-pre-wrap text-slate-300 leading-relaxed"></div>
                    </div>
                </div>

                 <!-- Error Message -->
                <div id="errorContainer" class="hidden mt-8 text-center p-4 bg-red-900 bg-opacity-30 text-red-400 border border-red-500 rounded-lg">
                    <p id="errorMessage"></p>
                </div>

            </main>
        </div>
        <footer class="mt-6 text-slate-500 text-sm flex justify-between items-center px-2">
            <div>Version 1.04</div>
            <div>©AykolinoApps</div>
        </footer>
    </div>
    <div id="tutorialModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-slate-800 rounded-lg shadow-xl p-6 sm:p-8 border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto modal-scrollbar">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white" data-translate-key="modalGoogleTitle">Anleitung: Google API-Schlüssel erhalten</h2>
                <button id="closeTutorialBtn" class="text-slate-400 hover:text-white text-3xl leading-none">&times;</button>
            </div>
            <div class="space-y-5 text-slate-300">
                <!-- HINZUGEFÜGT: data-translate-key -->
                <p data-translate-key="modalGoogleIntro">Folgen Sie diesen einfachen Schritten, um Ihren kostenlosen Google API-Schlüssel zu erhalten:</p>
                <ol class="list-decimal list-inside space-y-4">
                    <li>
                        <!-- HINZUGEFÜGT: data-translate-key für die Überschrift -->
                        <strong data-translate-key="modalGoogleStep1Title">Google AI Studio besuchen:</strong>
                        <br>
                        <span class="text-sm text-slate-400">
                        <!-- GEÄNDERT: HTML-Struktur angepasst für robuste Übersetzung -->
                        <span data-translate-key="modalGoogleStep1a">Öffnen Sie den Link </span>
                        <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-pink-400 underline" data-translate-href-key="getGoogleApiKeyLink">aistudio.google.com/app/apikey</a>
                        <span data-translate-key="modalGoogleStep1b"> in einem neuen Tab. Melden Sie sich mit Ihrem Google-Konto an, falls Sie dazu aufgefordert werden.</span>
                        </span>
                    </li>
                    <li>
                        <!-- HINZUGEFÜGT: data-translate-key für die Überschrift -->
                        <strong data-translate-key="modalGoogleStep2Title">Neuen API-Schlüssel erstellen:</strong>
                        <br>
                        <span class="text-sm text-slate-400">
                        <!-- GEÄNDERT: HTML-Struktur angepasst für robuste Übersetzung -->
                        <span data-translate-key="modalGoogleStep2a">Klicken Sie auf die Schaltfläche </span>
                        <strong class="text-blue-400">"Create API key in new project"</strong>.
                        </span>
                    </li>
                    <li>
                        <!-- HINZUGEFÜGT: data-translate-key für die Überschrift -->
                        <strong data-translate-key="modalGoogleStep3Title">API-Schlüssel kopieren:</strong>
                        <br>
                         <span class="text-sm text-slate-400" data-translate-key="modalGoogleStep3">
                        Es erscheint ein Fenster mit Ihrem neuen Schlüssel. Klicken Sie auf das Kopieren-Symbol, um den gesamten Schlüssel in Ihre Zwischenablage zu kopieren.
                         </span>
                    </li>
                    <li>
                        <!-- HINZUGEFÜGT: data-translate-key für die Überschrift -->
                        <strong data-translate-key="modalGoogleStep4Title">Schlüssel einfügen und speichern:</strong>
                        <br>
                         <span class="text-sm text-slate-400" data-translate-key="modalGoogleStep4">
                        Kehren Sie zu dieser Seite zurück, fügen Sie den kopierten Schlüssel in das Eingabefeld ein und klicken Sie auf "Speichern". Fertig!
                         </span>
                    </li>
                </ol>
                <div class="mt-6 p-3 bg-slate-700 rounded-lg text-sm">
                    <!-- HINZUGEFÜGT: data-translate-key -->
                     <p class="font-semibold text-slate-200" data-translate-key="modalGooglePrivacyTitle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 8a6 6 0 11-12 0 6 6 0 0112 0zM8.707 9.293a1 1 0 00-1.414 1.414L8.586 12l-1.293 1.293a1 1 0 101.414 1.414L10 13.414l1.293 1.293a1 1 0 001.414-1.414L11.414 12l1.293-1.293a1 1 0 00-1.414-1.414L10 10.586 8.707 9.293zM10 18a8 8 0 100-16 8 8 0 000 16z" clip-rule="evenodd"></path>
                        </svg>
                        Wichtiger Datenschutzhinweis:
                    </p>
                    <!-- HINZUGEFÜGT: data-translate-key -->
                    <p class="text-slate-300 mt-1" data-translate-key="modalGooglePrivacyBody">
                        Ihr API-Schlüssel wird ausschließlich in Ihrem Browser (`localStorage`) gespeichert. Er verlässt niemals Ihren Computer und wird an keinen Server gesendet.
                    </p>
                </div>
            </div>
        </div>
    </div>
        </main>
        <footer class="text-center py-10 mt-20 border-t border-gray-800">
            <p class="text-gray-500" data-translate-key="footerText">
                © <span id="year"></span> AykolinoApps. Mit Leidenschaft.
            </p>
            <p class="text-xs text-gray-600 mt-2" data-translate-key="footerDisclaimer">
                Diese Domain wird nicht für gewerbliche Zwecke genutzt.
            </p>
        </footer>
    </div>
    <script>
// --- GLOBAL TRANSLATION OBJECT ---
const translations = {
  "de": {
    "langName": "DE",
    "flagUrl": "https://flagcdn.com/w40/de.png",
    "navAbout": "Über mich",
    "navContact": "Kontakt",
    "languageLabelMobile": "Sprache:",
    "footerText": "© <span id=\"year-footer-de\"></span> AykolinoApps. Mit Leidenschaft.",
    "footerDisclaimer": "Diese Domain wird nicht für gewerbliche Zwecke genutzt.",
    "seoTextGeneratorTitle": "SEO Text Generator",
    "seoTextGeneratorSubtitle": "Geben Sie Ihre Stichpunkte ein, wählen Sie eine Sprache und erhalten Sie einen optimierten Text.",
    "apiSettings": "API-Schlüssel-Einstellungen",
    "apiKeyPlaceholder": "API-Schlüssel hier einfügen...",
    "saveButton": "Speichern",
    "saveSuccess": "Gespeichert!",
    "saveError": "Bitte Schlüssel eingeben.",
    "noKeyQuestion": "Keinen Schlüssel?",
    "createHereLink": "Hier kostenlos erstellen.",
    "getGoogleApiKeyLink": "https://aistudio.google.com/app/apikey",
    "instructionsLink": "(Anleitung)",
    "privacyNotice": "Datenschutzhinweis: Ihr Schlüssel wird NUR in Ihrem Browser gespeichert und NIEMALS an einen Server gesendet.",
    "keywordsLabel": "Ihre Stichpunkte (jeder Punkt in einer neuen Zeile):",
    "keywordsPlaceholder": "z.B.\n- Vorteile von Solarenergie\n- Kostenersparnis\n- Umweltfreundlich\n- Unabhängigkeit vom Stromnetz",
    "targetLanguageLabel": "Zielsprache:",
    "generateTextButton": "Text generieren",
    "generatingText": "Generiere...",
    "languageGerman": "Deutsch",
    "languageEnglish": "Englisch",
    "languageFrench": "Französisch",
    "languageSpanish": "Spanisch",
    "languageItalian": "Italienisch",
    "generatedTextTitle": "Ihr SEO-optimierter Text",
    "copyButton": "Kopieren",
    "copySuccess": "Kopiert!",
    "modalGoogleTitle": "Anleitung: Google API-Schlüssel erhalten",
    "modalGoogleIntro": "Folgen Sie diesen einfachen Schritten, um Ihren kostenlosen Google API-Schlüssel zu erhalten:",
    "modalGoogleStep1Title": "Google AI Studio besuchen:",
    "modalGoogleStep1a": "Öffnen Sie den Link ",
    "modalGoogleStep1b": " in einem neuen Tab. Melden Sie sich mit Ihrem Google-Konto an, falls Sie dazu aufgefordert werden.",
    "modalGoogleStep2Title": "Neuen API-Schlüssel erstellen:",
    "modalGoogleStep2a": "Klicken Sie auf die Schaltfläche ",
    "modalGoogleStep3Title": "API-Schlüssel kopieren:",
    "modalGoogleStep3": "Es erscheint ein Fenster mit Ihrem neuen Schlüssel. Klicken Sie auf das Kopieren-Symbol, um den gesamten Schlüssel in Ihre Zwischenablage zu kopieren.",
    "modalGoogleStep4Title": "Schlüssel einfügen und speichern:",
    "modalGoogleStep4": "Kehren Sie zu dieser Seite zurück, fügen Sie den kopierten Schlüssel in das Eingabefeld ein und klicken Sie auf \"Speichern\". Fertig!",
    "modalGooglePrivacyTitle": "Wichtiger Datenschutzhinweis:",
    "modalGooglePrivacyBody": "Ihr API-Schlüssel wird ausschließlich in Ihrem Browser ('localStorage') gespeichert. Er verlässt niemals Ihren Computer und wird an keinen Server gesendet."
  },
  "en": {
    "langName": "EN",
    "flagUrl": "https://flagcdn.com/w40/gb.png",
    "navAbout": "About Me",
    "navContact": "Contact",
    "languageLabelMobile": "Language:",
    "footerText": "© <span id=\"year-footer-en\"></span> AykolinoApps. With passion.",
    "footerDisclaimer": "This domain is not used for commercial purposes.",
    "seoTextGeneratorTitle": "SEO Text Generator",
    "seoTextGeneratorSubtitle": "Enter your keywords, select a language, and receive an optimized text.",
    "apiSettings": "API Key Settings",
    "apiKeyPlaceholder": "Enter API key here...",
    "saveButton": "Save",
    "saveSuccess": "Saved!",
    "saveError": "Please enter a key.",
    "noKeyQuestion": "No key?",
    "createHereLink": "Create one for free.",
    "getGoogleApiKeyLink": "https://aistudio.google.com/app/apikey",
    "instructionsLink": "(Instructions)",
    "privacyNotice": "Privacy Notice: Your key is ONLY stored in your browser and is NEVER sent to a server.",
    "keywordsLabel": "Your keywords (each point on a new line):",
    "keywordsPlaceholder": "e.g.\n- Advantages of solar energy\n- Cost savings\n- Environmentally friendly\n- Independence from the power grid",
    "targetLanguageLabel": "Target Language:",
    "generateTextButton": "Generate Text",
    "generatingText": "Generating...",
    "languageGerman": "German",
    "languageEnglish": "English",
    "languageFrench": "French",
    "languageSpanish": "Spanish",
    "languageItalian": "Italian",
    "generatedTextTitle": "Your SEO-Optimized Text",
    "copyButton": "Copy",
    "copySuccess": "Copied!",
    "modalGoogleTitle": "Instructions: Get Google API Key",
    "modalGoogleIntro": "Follow these simple steps to get your free Google API key:",
    "modalGoogleStep1Title": "Visit Google AI Studio:",
    "modalGoogleStep1a": "Open the link ",
    "modalGoogleStep1b": " in a new tab. Log in with your Google account if prompted.",
    "modalGoogleStep2Title": "Create new API key:",
    "modalGoogleStep2a": "Click on the button ",
    "modalGoogleStep3Title": "Copy API key:",
    "modalGoogleStep3": "A window will appear with your new key. Click the copy icon to copy the entire key to your clipboard.",
    "modalGoogleStep4Title": "Paste and save key:",
    "modalGoogleStep4": "Return to this page, paste the copied key into the input field, and click \"Save\". Done!",
    "modalGooglePrivacyTitle": "Important Privacy Notice:",
    "modalGooglePrivacyBody": "Your API key is stored exclusively in your browser ('localStorage'). It never leaves your computer and is not sent to any server."
  },
  "fr": {
    "langName": "FR",
    "flagUrl": "https://flagcdn.com/w40/fr.png",
    "navAbout": "À propos de moi",
    "navContact": "Contact",
    "languageLabelMobile": "Langue:",
    "footerText": "© <span id=\"year-footer-fr\"></span> AykolinoApps. Avec passion.",
    "footerDisclaimer": "Ce domaine n'est pas utilisé à des fins commerciales.",
    "seoTextGeneratorTitle": "Générateur de Texte SEO",
    "seoTextGeneratorSubtitle": "Entrez vos points clés, sélectionnez une langue et recevez un texte optimisé.",
    "apiSettings": "Paramètres de la clé API",
    "apiKeyPlaceholder": "Entrez la clé API ici...",
    "saveButton": "Enregistrer",
    "saveSuccess": "Enregistré !",
    "saveError": "Veuillez entrer une clé.",
    "noKeyQuestion": "Pas de clé?",
    "createHereLink": "Créez-en une gratuitement.",
    "getGoogleApiKeyLink": "https://aistudio.google.com/app/apikey",
    "instructionsLink": "(Instructions)",
    "privacyNotice": "Avis de confidentialité : Votre clé est UNIQUEMENT stockée dans votre navigateur et n'est JAMAIS envoyée à un serveur.",
    "keywordsLabel": "Vos points clés (chaque point sur une nouvelle ligne):",
    "keywordsPlaceholder": "par ex.\n- Avantages de l'énergie solaire\n- Économies de coûts\n- Écologique\n- Indépendance du réseau électrique",
    "targetLanguageLabel": "Langue cible:",
    "generateTextButton": "Générer le texte",
    "generatingText": "Génération...",
    "languageGerman": "Allemand",
    "languageEnglish": "Anglais",
    "languageFrench": "Français",
    "languageSpanish": "Espagnol",
    "languageItalian": "Italien",
    "generatedTextTitle": "Votre Texte Optimisé SEO",
    "copyButton": "Copier",
    "copySuccess": "Copié !",
    "modalGoogleTitle": "Instructions : Obtenir la clé API Google",
    "modalGoogleIntro": "Suivez ces étapes simples pour obtenir votre clé API Google gratuite :",
    "modalGoogleStep1Title": "Visitez Google AI Studio :",
    "modalGoogleStep1a": "Ouvrez le lien ",
    "modalGoogleStep1b": " dans un nouvel onglet. Connectez-vous avec votre compte Google si vous y êtes invité.",
    "modalGoogleStep2Title": "Créer une nouvelle clé API :",
    "modalGoogleStep2a": "Cliquez sur le bouton ",
    "modalGoogleStep3Title": "Copier la clé API :",
    "modalGoogleStep3": "Une fenêtre apparaîtra avec votre nouvelle clé. Cliquez sur l'icône de copie pour copier la clé entière dans votre presse-papiers.",
    "modalGoogleStep4Title": "Coller et enregistrer la clé :",
    "modalGoogleStep4": "Revenez à cette page, collez la clé copiée dans le champ de saisie et cliquez sur \"Enregistrer\". Terminé !",
    "modalGooglePrivacyTitle": "Avis de confidentialité important :",
    "modalGooglePrivacyBody": "Votre clé API est stockée exclusivement dans votre navigateur ('localStorage'). Elle ne quitte jamais votre ordinateur et n'est envoyée à aucun serveur."
  },
  "es": {
    "langName": "ES",
    "flagUrl": "https://flagcdn.com/w40/es.png",
    "navAbout": "Sobre mí",
    "navContact": "Contacto",
    "languageLabelMobile": "Idioma:",
    "footerText": "© <span id=\"year-footer-es\"></span> AykolinoApps. Con pasión.",
    "footerDisclaimer": "Este dominio no se utiliza con fines comerciales.",
    "seoTextGeneratorTitle": "Generador de Texto SEO",
    "seoTextGeneratorSubtitle": "Introduzca sus palabras clave, seleccione un idioma y reciba un texto optimizado.",
    "apiSettings": "Configuración de la clave API",
    "apiKeyPlaceholder": "Introduzca la clave de API aquí...",
    "saveButton": "Guardar",
    "saveSuccess": "¡Guardado!",
    "saveError": "Por favor, ingrese una clave.",
    "noKeyQuestion": "¿No tiene clave?",
    "createHereLink": "Cree una gratis aquí.",
    "getGoogleApiKeyLink": "https://aistudio.google.com/app/apikey",
    "instructionsLink": "(Instrucciones)",
    "privacyNotice": "Aviso de privacidad: su clave se almacena ÚNICAMENTE en su navegador y NUNCA se envía a un servidor.",
    "keywordsLabel": "Sus palabras clave (cada punto en una nueva línea):",
    "keywordsPlaceholder": "p.ej.\n- Ventajas de la energía solar\n- Ahorro de costes\n- Respetuoso con el medio ambiente\n- Independencia de la red eléctrica",
    "targetLanguageLabel": "Idioma de destino:",
    "generateTextButton": "Generar texto",
    "generatingText": "Generando...",
    "languageGerman": "Alemán",
    "languageEnglish": "Inglés",
    "languageFrench": "Francés",
    "languageSpanish": "Español",
    "languageItalian": "Italiano",
    "generatedTextTitle": "Su Texto Optimizado SEO",
    "copyButton": "Copiar",
    "copySuccess": "¡Copiado!",
    "modalGoogleTitle": "Instrucciones: Obtener clave de API de Google",
    "modalGoogleIntro": "Siga estos sencillos pasos para obtener su clave de API de Google gratuita:",
    "modalGoogleStep1Title": "Visite Google AI Studio:",
    "modalGoogleStep1a": "Abra el enlace ",
    "modalGoogleStep1b": " en una nueva pestaña. Inicie sesión con su cuenta de Google si se le solicita.",
    "modalGoogleStep2Title": "Crear nueva clave de API:",
    "modalGoogleStep2a": "Haga clic en el botón ",
    "modalGoogleStep3Title": "Copiar clave de API:",
    "modalGoogleStep3": "Aparecerá una ventana con su nueva clave. Haga clic en el icono de copiar para copiar la clave completa en su portapapeles.",
    "modalGoogleStep4Title": "Pegar y guardar clave:",
    "modalGoogleStep4": "Vuelva a esta página, pegue la clave copiada en el campo de entrada y haga clic en \"Guardar\". ¡Listo!",
    "modalGooglePrivacyTitle": "Aviso de privacidad importante:",
    "modalGooglePrivacyBody": "Su clave de API se almacena exclusivamente en su navegador ('localStorage'). Nunca sale de su computadora y no se envía a ningún servidor."
  },
  <!-- ENTFERNT: Der gesamte 'it' Block -->
};

let currentLang = 'de'; // Standard-Fallback

function setLanguage(lang, event) {
    if (event) event.preventDefault();
    const langPack = translations[lang];
    if (!langPack) return;
    
    currentLang = lang; // Globale Sprache aktualisieren
    localStorage.setItem('language', lang);
    document.documentElement.lang = lang;

    document.querySelectorAll('[data-translate-key]').forEach(el => {
        const key = el.getAttribute('data-translate-key');
        if (langPack[key]) {
            el.innerHTML = langPack[key]; 
        }
    });

    document.querySelectorAll('[data-translate-key-placeholder]').forEach(el => {
        const key = el.getAttribute('data-translate-key-placeholder');
        if (langPack[key]) {
            el.setAttribute('placeholder', langPack[key]);
        }
    });

    document.querySelectorAll('[data-translate-href-key]').forEach(el => {
        const key = el.getAttribute('data-translate-href-key');
        if (langPack[key]) {
            el.setAttribute('href', langPack[key]);
        }
    });

    const currentLangDesktop = document.getElementById('current-lang-desktop');
    if (currentLangDesktop) currentLangDesktop.textContent = langPack.langName;
    const currentFlagDesktop = document.getElementById('current-flag-desktop');
    if (currentFlagDesktop) {
        currentFlagDesktop.src = langPack.flagUrl;
        currentFlagDesktop.alt = `Flag of ${lang}`;
    }
    
    // Stellt sicher, dass das Jahr in der richtigen Sprache aktualisiert wird
    const yearSpan = document.getElementById(`year-footer-${lang}`);
    if (yearSpan) yearSpan.textContent = new Date().getFullYear();
    // Aktualisiert auch das generische 'year'-Element, falls vorhanden
    const genericYearSpan = document.getElementById('year');
    if(genericYearSpan) genericYearSpan.textContent = new Date().getFullYear();


    document.getElementById('lang-switcher-dropdown')?.classList.remove('open');
    document.getElementById('mobile-menu')?.classList.add('hidden');
};

document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language') || 'de';
    // Kleine Verzögerung, um sicherzustellen, dass alle DOM-Elemente geladen sind
    setTimeout(() => {
        if(window.setLanguage) {
            window.setLanguage(savedLang);
        }
    }, 100);

    document.getElementById('lang-switcher-button')?.addEventListener('click', (event) => {
        event.stopPropagation();
        document.getElementById('lang-switcher-dropdown')?.classList.toggle('open');
    });
    window.addEventListener('click', () => document.getElementById('lang-switcher-dropdown')?.classList.remove('open'));
    document.getElementById('mobile-menu-button')?.addEventListener('click', () => document.getElementById('mobile-menu')?.classList.toggle('hidden'));
    
    const header = document.getElementById('main-header');
    if(header) {
        window.addEventListener('scroll', () => {
            header.classList.toggle('header-scrolled', window.scrollY > 10);
        });
    }
    
    // Jahr im Footer setzen (Fallback)
    const yearSpan = document.getElementById('year');
    if(yearSpan) yearSpan.textContent = new Date().getFullYear();
});
window.setLanguage = setLanguage;
</script>
    <script>
        // DOM Elements
        const apiKeyInput = document.getElementById('apiKeyInput');
        const saveApiKeyBtn = document.getElementById('saveApiKeyBtn');
        const saveApiKeyFeedback = document.getElementById('saveApiKeyFeedback');
        const keywordsInput = document.getElementById('keywords');
        const languageSelect = document.getElementById('language');
        const generateBtn = document.getElementById('generateBtn');
        const btnText = document.getElementById('btn-text');
        const loader = document.getElementById('loader');
        const resultContainer = document.getElementById('resultContainer');
        const outputDiv = document.getElementById('output');
        const copyBtn = document.getElementById('copyBtn');
        const copyFeedback = document.getElementById('copyFeedback');
        const errorContainer = document.getElementById('errorContainer');
        const errorMessage = document.getElementById('errorMessage');
        const showTutorialBtn = document.getElementById('showTutorialBtn');
        const closeTutorialBtn = document.getElementById('closeTutorialBtn');
        const tutorialModal = document.getElementById('tutorialModal');
        const toggleApiKeyBtn = document.getElementById('toggleApiKeyBtn');
        const apiKeyContent = document.getElementById('apiKeyContent');
        const apiKeyChevron = document.getElementById('apiKeyChevron');

        // --- API Key Accordion Logic ---
        toggleApiKeyBtn.addEventListener('click', () => {
            apiKeyContent.classList.toggle('hidden');
            apiKeyChevron.classList.toggle('rotate-180');
        });

        // --- Tutorial Modal Logic ---
        showTutorialBtn.addEventListener('click', () => {
            tutorialModal.classList.remove('hidden');
        });
        closeTutorialBtn.addEventListener('click', () => {
            tutorialModal.classList.add('hidden');
        });
        tutorialModal.addEventListener('click', (event) => {
            if (event.target === tutorialModal) {
                tutorialModal.classList.add('hidden');
            }
        });


        // --- API Key Logic ---
        const loadApiKey = () => {
            const savedKey = localStorage.getItem('googleApiKey');
            if (savedKey) {
                apiKeyInput.value = savedKey;
            }
        };

        saveApiKeyBtn.addEventListener('click', () => {
            const key = apiKeyInput.value.trim();
            saveApiKeyFeedback.classList.remove('hidden', 'text-red-400', 'text-green-400');
            
            if (key) {
                localStorage.setItem('googleApiKey', key);
                saveApiKeyFeedback.textContent = translations[currentLang].saveSuccess;
                saveApiKeyFeedback.classList.add('text-green-400');
            } else {
                saveApiKeyFeedback.textContent = translations[currentLang].saveError;
                saveApiKeyFeedback.classList.add('text-red-400');
            }
            
            setTimeout(() => {
                saveApiKeyFeedback.classList.add('hidden');
            }, 2500);
        });
        
        // Load API key on page start
        loadApiKey();


        // --- Gemini API Call Logic ---
        const callGeminiApi = async (prompt, retries = 3, delay = 1000) => {
            const apiKey = apiKeyInput.value.trim();
            if (!apiKey) {
                throw new Error(translations[currentLang].saveError); // "Bitte speichern Sie zuerst einen gültigen Google API-Schlüssel."
            }
            // Modell aktualisiert auf eine gängige Version
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${apiKey}`;

            const systemPrompt = `Act as an expert SEO copywriter. Your task is to write a well-structured, fluent, and SEO-optimized informational text based on the provided bullet points. The text should be engaging for readers and optimized for search engines. Use headings (like H2, H3), paragraphs, and lists where appropriate to structure the content logically. Integrate the given keywords naturally throughout the text. The final output must be only the generated text, without any additional explanations or introductions from you. The output language must be the one specified by the user.`;

            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error("API Error Data:", errorData);
                        if (response.status === 403 || response.status === 400) {
                             throw new Error(`API Error ${response.status}: Zugriff verweigert oder fehlerhafte Anfrage. Überprüfen Sie bitte Ihren API-Schlüssel und die Projekteinstellungen.`);
                        }
                        throw new Error(`API Error: ${response.status} ${response.statusText}`);
                    }

                    const result = await response.json();
                    
                    if (!result.candidates || !result.candidates[0].content || !result.candidates[0].content.parts[0].text) {
                       throw new Error("Ungültige API-Antwortstruktur. Die Antwort enthielt keinen Text.");
                    }
                    
                    return result;

                } catch (error) {
                    console.error(`Attempt ${i + 1} failed:`, error);
                    if (i === retries - 1) {
                        throw error; // Wirft den letzten Fehler nach allen Wiederholungen
                    }
                    // Exponential backoff
                    await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                }
            }
        };

        // --- UI Logic ---
        
        const setLoadingState = (isLoading) => {
            const langPack = translations[currentLang] || translations['de'];
            if (isLoading) {
                generateBtn.disabled = true;
                // KORRIGIERT: Text-Änderung über Übersetzungs-Key
                btnText.textContent = langPack.generatingText;
                loader.classList.remove('hidden');
                resultContainer.classList.add('hidden');
                errorContainer.classList.add('hidden');
            } else {
                generateBtn.disabled = false;
                // KORRIGIERT: Text-Änderung über Übersetzungs-Key
                btnText.textContent = langPack.generateTextButton;
                loader.classList.add('hidden');
            }
        };

        const displayError = (message) => {
            errorMessage.textContent = `Ein Fehler ist aufgetreten: ${message}`;
            errorContainer.classList.remove('hidden');
        };

        const displayResult = (result) => {
            const candidate = result.candidates[0];
            const text = candidate.content.parts[0].text;
            outputDiv.textContent = text; // Verwenden Sie .textContent, um Formatierungsprobleme zu vermeiden
            resultContainer.classList.remove('hidden');
            // Fügen Sie eine kleine Animation hinzu
            resultContainer.style.opacity = '0';
            setTimeout(() => { resultContainer.style.opacity = '1'; }, 10);
        };

        // --- Event Listeners ---

        generateBtn.addEventListener('click', async () => {
            const keywords = keywordsInput.value.trim();
            const language = languageSelect.value;

            if (!keywords) {
                displayError("Bitte geben Sie einige Stichpunkte ein."); // Dies könnte auch übersetzt werden
                return;
            }

            setLoadingState(true);

            const userPrompt = `Based on the following bullet points, please write a comprehensive and SEO-optimized informational text in ${language}. The bullet points are:\n\n${keywords}`;

            try {
                const result = await callGeminiApi(userPrompt);
                displayResult(result);
            } catch (error) {
                console.error("Failed to generate text:", error);
                displayError(error.message);
            } finally {
                setLoadingState(false);
            }
        });

        copyBtn.addEventListener('click', () => {
            // Verwendet textContent für eine saubere Kopie
            const textToCopy = outputDiv.textContent;

            // Modernerer Clipboard-Ansatz mit Fallback
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(textToCopy).then(() => {
                    showCopyFeedback();
                }).catch(err => {
                    console.warn("Moderner Kopierbefehl fehlgeschlagen, verwende Fallback:", err);
                    fallbackCopyText(textToCopy);
                });
            } else {
                console.warn("Unsicherer Kontext oder Clipboard API nicht verfügbar, verwende Fallback.");
                fallbackCopyText(textToCopy);
            }
        });

        function fallbackCopyText(text) {
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = text;
            tempTextArea.style.position = 'absolute';
            tempTextArea.style.left = '-9999px';
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            try {
                document.execCommand('copy');
                showCopyFeedback();
            } catch (err) {
                console.error('Fallback-Kopieren fehlgeschlagen:', err);
                displayError('Kopieren fehlgeschlagen.');
            }
            document.body.removeChild(tempTextArea);
        }

        function showCopyFeedback() {
            copyFeedback.classList.remove('hidden');
            copyBtn.style.display = 'none';
            setTimeout(() => {
                copyFeedback.classList.add('hidden');
                copyBtn.style.display = 'inline-block';
            }, 2000);
        }

    </script>
</body>
</html>



